import{y as se,s as p,c as J,r as i,v as ce,x as de,c_ as me,ao as ue,p as xe,n as K,c$ as y,d0 as O,j as e,d1 as he,ax as fe,d2 as h,ay as be,U as B,N as V,G as L,a0 as ge,O as pe}from"./main-CAaAWYAx.js";import{u as Ne,b as je}from"./useFood-MpMYmfXF.js";const C="adm-card",w=s=>{const n=()=>s.title||s.extra?p.createElement("div",{className:J(`${C}-header`,s.headerClassName),style:s.headerStyle,onClick:s.onHeaderClick},s.icon&&p.createElement("div",{className:`${C}-header-icon`},s.icon),p.createElement("div",{className:`${C}-header-title`},s.title),s.extra&&p.createElement("div",{className:`${C}-header-extra`},s.extra)):null,t=()=>s.children?p.createElement("div",{className:J(`${C}-body`,s.bodyClassName),style:s.bodyStyle,onClick:s.onBodyClick},s.children):null;return se(s,p.createElement("div",{className:C,onClick:s.onClick},n(),t()))};var X;(function(s){s[s.HIGH_SURROGATE_START=55296]="HIGH_SURROGATE_START",s[s.HIGH_SURROGATE_END=56319]="HIGH_SURROGATE_END",s[s.LOW_SURROGATE_START=56320]="LOW_SURROGATE_START",s[s.REGIONAL_INDICATOR_START=127462]="REGIONAL_INDICATOR_START",s[s.REGIONAL_INDICATOR_END=127487]="REGIONAL_INDICATOR_END",s[s.FITZPATRICK_MODIFIER_START=127995]="FITZPATRICK_MODIFIER_START",s[s.FITZPATRICK_MODIFIER_END=127999]="FITZPATRICK_MODIFIER_END",s[s.VARIATION_MODIFIER_START=65024]="VARIATION_MODIFIER_START",s[s.VARIATION_MODIFIER_END=65039]="VARIATION_MODIFIER_END",s[s.DIACRITICAL_MARKS_START=8400]="DIACRITICAL_MARKS_START",s[s.DIACRITICAL_MARKS_END=8447]="DIACRITICAL_MARKS_END",s[s.SUBDIVISION_INDICATOR_START=127988]="SUBDIVISION_INDICATOR_START",s[s.TAGS_START=917504]="TAGS_START",s[s.TAGS_END=917631]="TAGS_END",s[s.ZWJ=8205]="ZWJ"})(X||(X={}));const ye=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);var Y;function U(s){if(typeof s!="string")throw new TypeError("string cannot be undefined or null");const n=[];let t=0,r=0;for(;t<s.length;)r+=ve(t+r,s),Te(s[t+r])&&r++,Re(s[t+r])&&r++,Se(s[t+r])&&r++,Ce(s[t+r])?r++:(n.push(s.substring(t,t+r)),t+=r,r=0);return n}function ve(s,n){const t=n[s];if(!_e(t)||s===n.length-1)return 1;const r=t+n[s+1];let m=n.substring(s+2,s+5);return ee(r)&&ee(m)?4:we(r)&&Ae(m)?n.slice(s).indexOf(String.fromCodePoint(917631))+2:Ie(m)?4:2}function _e(s){return s&&I(s[0].charCodeAt(0),55296,56319)}function ee(s){return I(z(s),127462,127487)}function we(s){return I(z(s),127988,127988)}function Ie(s){return I(z(s),127995,127999)}function Re(s){return typeof s=="string"&&I(s.charCodeAt(0),65024,65039)}function Se(s){return typeof s=="string"&&I(s.charCodeAt(0),8400,8447)}function Ae(s){const n=s.codePointAt(0);return typeof s=="string"&&typeof n=="number"&&I(n,917504,917631)}function Te(s){return typeof s=="string"&&ye.includes(s.charCodeAt(0))}function Ce(s){return typeof s=="string"&&s.charCodeAt(0)===8205}function z(s){return(s.charCodeAt(0)-55296<<10)+(s.charCodeAt(1)-56320)+65536}function I(s,n,t){return s>=n&&s<=t}(function(s){s[s.unit_1=1]="unit_1",s[s.unit_2=2]="unit_2",s[s.unit_4=4]="unit_4"})(Y||(Y={}));const q="adm-text-area",te={rows:2,showCount:!1,autoSize:!1,defaultValue:""},re=i.forwardRef((s,n)=>{const t=ce(te,s),{autoSize:r,showCount:m,maxLength:f}=t,[v,R]=de(Object.assign(Object.assign({},t),{value:t.value===null?"":t.value}));t.value;const N=i.useRef(null),u=i.useRef("auto"),D=i.useRef(null),F=me({onEnterPress:t.onEnterPress,onKeyDown:t.onKeyDown,nativeInputRef:N,enterKeyHint:t.enterKeyHint});i.useImperativeHandle(n,()=>({clear:()=>{R("")},focus:()=>{var o;(o=N.current)===null||o===void 0||o.focus()},blur:()=>{var o;(o=N.current)===null||o===void 0||o.blur()},get nativeElement(){return N.current}})),ue(()=>{if(!r)return;const o=N.current,c=D.current;if(!o||(o.style.height=u.current,!c))return;let x=c.scrollHeight;if(typeof r=="object"){const H=window.getComputedStyle(o),M=parseFloat(H.lineHeight);r.minRows&&(x=Math.max(x,r.minRows*M)),r.maxRows&&(x=Math.min(x,r.maxRows*M))}u.current=`${x}px`,o.style.height=`${x}px`},[v,r]);const k=i.useRef(!1);let S;const A=U(v).length;typeof m=="function"?S=m(A,f):m&&(S=p.createElement("div",{className:`${q}-count`},f===void 0?A:A+"/"+f));let j=t.rows;return typeof r=="object"&&(r.maxRows&&j>r.maxRows&&(j=r.maxRows),r.minRows&&j<r.minRows&&(j=r.minRows)),se(t,p.createElement("div",{className:q},p.createElement("textarea",{ref:N,className:`${q}-element`,rows:j,value:v,placeholder:t.placeholder,onChange:o=>{let c=o.target.value;f&&!k.current&&(c=U(c).slice(0,f).join("")),R(c)},id:t.id,onCompositionStart:o=>{var c;k.current=!0,(c=t.onCompositionStart)===null||c===void 0||c.call(t,o)},onCompositionEnd:o=>{var c;if(k.current=!1,f){const x=o.target.value;R(U(x).slice(0,f).join(""))}(c=t.onCompositionEnd)===null||c===void 0||c.call(t,o)},autoComplete:t.autoComplete,autoFocus:t.autoFocus,disabled:t.disabled,readOnly:t.readOnly,name:t.name,onFocus:t.onFocus,onBlur:t.onBlur,onClick:t.onClick,onKeyDown:F}),S,r&&p.createElement("textarea",{ref:D,className:`${q}-element ${q}-element-hidden`,value:v,rows:j,"aria-hidden":!0,readOnly:!0})))});re.defaultProps=te;const qe=()=>{const s=xe(),n=K(a=>a.auth.user?.uid),t=K(a=>a.auth.user),r=K(a=>a.auth.isAuthenticated),{foodData:m,calculateCalorieOffset:f}=Ne(),{getGroupDeviationSettings:v,getPersonalCalorieBias:R,getUserGroupId:N}=je(),[u]=y.useForm(),[D,F]=i.useState(!1),[k,S]=i.useState(null),[A,j]=i.useState(null),[o,c]=i.useState(null),[x,H]=i.useState(!1),[M,_]=i.useState(1),[T,G]=i.useState(null),[ae,ne]=i.useState(!1),[le,Z]=i.useState(!0);i.useEffect(()=>{(async()=>{if(m&&m.lunch){const l=m.lunch;if(console.log(l),l.actualCalories!==null&&l.actualCalories!==void 0&&l.estimatedCalories!==null&&l.estimatedCalories!==void 0)try{const d=await N(n),b=await v(d),E=await R(n);if(b&&(b.multiplier!==1||b.defaultDeviation!==0)){const W=-f(l.estimatedCalories,l.actualCalories,b,E);console.log("Calorie difference (group deviation applied):",W),G(Math.abs(W)||1)}else{const g=l.estimatedCalories-l.actualCalories;console.log("Calorie difference (normal user):",g),g>0?G(Math.round(g)):G(0)}}catch(d){console.error("Ìé∏Ï∞® Í≥ÑÏÇ∞ Ï§ë Ïò§Î•ò:",d),G(0)}}})()},[m,f,N,v,R,n]);const[oe,De]=i.useState(!1);i.useEffect(()=>{new Date().getHours()},[s]),i.useEffect(()=>{r&&n&&(async()=>{if(!n){Z(!1);return}try{const l=await B(V(L,"system","survey"));let d="default-survey";l.exists()&&l.data().surveyId&&(d=l.data().surveyId);const b=await B(V(L,"surveys",d,"responses",n));if(b.exists()){const E=b.data(),P=new Date().toISOString().split("T")[0];(E.timestamp?E.timestamp.split("T")[0]:null)===P&&(ne(!0),O.show({content:"Ïò§Îäò Ïù¥ÎØ∏ ÏÑ§Î¨∏Ï°∞ÏÇ¨Î•º ÏôÑÎ£åÌïòÏÖ®ÏäµÎãàÎã§.",position:"top",duration:3e3}),setTimeout(()=>s("/"),3e3))}}catch(l){console.error("ÏÑ§Î¨∏ Ï†úÏ∂ú Ïó¨Î∂Ä ÌôïÏù∏ Ïò§Î•ò:",l)}finally{Z(!1)}})()},[n,r,s]),i.useEffect(()=>{(!r||!n)&&(O.show({content:"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.",position:"top"}),s("/"))},[r,n,s]);const Q=(a,l)=>{l==="scale"?(j(a),c(null),S(a),u.setFieldsValue({q6_less_intake_reaction:a})):l==="simple"&&(c(a),j(null),S(a),u.setFieldsValue({q6_less_intake_reaction:a})),H(a==="no"||typeof a=="number"&&a<=3)},ie=async a=>{if(!n||!t){O.show({content:"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.",position:"top"});return}F(!0);try{const l=await B(V(L,"system","survey"));let d="default-survey";l.exists()&&l.data().surveyId&&(d=l.data().surveyId);const b={userId:n,userEmail:t.email,q1_daily_calories:a.q1_daily_calories,q2_on_diet:a.q2_on_diet,q3_weight_control_motivation:a.q3_weight_control_motivation,q4_forbidden_food_behavior:a.q4_forbidden_food_behavior,q5_food_consciousness:a.q5_food_consciousness,q6_less_intake_reaction:T>0?a.q6_less_intake_reaction:null,q6_follow_up:T>0&&x?a.q6_follow_up:null,submittedAt:ge(),timestamp:new Date().toISOString()};await pe(V(L,"surveys",d,"responses",n),b),O.show({content:"ÏÑ§Î¨∏Ï°∞ÏÇ¨Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï†úÏ∂úÎêòÏóàÏäµÎãàÎã§!",position:"top",duration:2e3}),setTimeout(()=>{s("/main")},2e3)}catch(l){console.error("ÏÑ§Î¨∏ Ï†úÏ∂ú Ïò§Î•ò:",l),O.show({content:"ÏÑ§Î¨∏ Ï†úÏ∂ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",position:"top"})}finally{F(!1)}},$=({value:a,onChange:l,options:d,name:b})=>e.jsxs("div",{className:"likert-scale",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 px-1",children:[e.jsx("span",{className:"text-xs text-gray-500 max-w-[45%] text-left leading-tight",children:d[0]}),e.jsx("span",{className:"text-xs text-gray-500 max-w-[45%] text-right leading-tight",children:d[d.length-1]})]}),e.jsx("div",{className:"flex justify-between items-center gap-1 sm:gap-2 pt-1",children:d.map((E,P)=>{const g=P+1;return e.jsx("div",{className:"flex flex-col items-center flex-1",children:e.jsx("button",{type:"button",onClick:()=>l(g),className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full border-2 transition-all duration-200 text-sm sm:text-base ${a===g?"bg-blue-500 border-blue-500 text-white shadow-lg scale-110":"bg-white border-gray-300 text-gray-600 hover:border-blue-300 hover:bg-blue-50"}`,children:g})},g)})})]});return le?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"ÏÑ§Î¨∏ ÏÉÅÌÉú ÌôïÏù∏ Ï§ë..."}),e.jsx("div",{className:"text-sm text-gray-500",children:"Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî."})]})}):oe?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"text-2xl mb-4",children:"üïò"}),e.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"ÏÑ§Î¨∏Ï°∞ÏÇ¨ ÏãúÍ∞ÑÏù¥ ÏïÑÎãôÎãàÎã§"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Îß§Ïùº Î∞§ 9ÏãúÎ∂ÄÌÑ∞ ÏûëÏÑ± Í∞ÄÎä•Ìï©ÎãàÎã§"})]})}):ae?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"text-2xl mb-4",children:"‚úÖ"}),e.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Ïò§Îäò ÏÑ§Î¨∏Ï°∞ÏÇ¨Î•º Ïù¥ÎØ∏ ÏôÑÎ£åÌïòÏÖ®ÏäµÎãàÎã§"}),e.jsx("div",{className:"text-sm text-gray-500",children:"ÎÇ¥Ïùº Îã§Ïãú Ï∞∏Ïó¨Ìï¥ Ï£ºÏÑ∏Ïöî!"})]})}):e.jsxs("div",{className:"survey-page min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx(he,{className:"bg-white/90 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("span",{className:"text-lg font-bold text-gray-800",children:"üìä ÏÑ§Î¨∏Ï°∞ÏÇ¨"})})}),e.jsxs("div",{className:"p-2 pb-10 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mt-2 mb-3 text-center",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-2",children:"Ïó¨Îü¨Î∂ÑÏùò ÏÜåÏ§ëÌïú ÏùòÍ≤¨ÏùÑ Îì§Î†§Ï£ºÏÑ∏Ïöî"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Î™®Îì† ÏßàÎ¨∏Ïóê ÎãµÎ≥ÄÌï¥ Ï£ºÏãúÎ©¥ Í∞êÏÇ¨ÌïòÍ≤†ÏäµÎãàÎã§"})]}),e.jsxs(y,{form:u,onFinish:ie,layout:"vertical",className:"space-y-4 sm:space-y-6",children:[e.jsx(w,{className:"bg-white rounded-xl shadow-sm border-0 overflow-hidden",children:e.jsxs("div",{className:"p-2 sm:p-5",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-1",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:"1"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Î≤à ÏßàÎ¨∏"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 pl-4",children:"Î≥¥ÌÜµ ÌïòÎ£®Ïóê Î™á ÏπºÎ°úÎ¶¨Î•º ÏÑ≠Ï∑®ÌïòÏãúÎÇòÏöî?"}),e.jsx(y.Item,{name:"q1_daily_calories",rules:[{required:!0,message:"ÏπºÎ°úÎ¶¨Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî"}],children:e.jsxs("div",{className:"relative",children:[e.jsx(fe,{type:"number",placeholder:"Ïòà: 2000",className:"text-base sm:text-lg py-3 px-4 rounded-lg border-2 border-gray-200 focus:border-blue-400 transition-colors",onFocus:()=>_(1)}),e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium text-sm sm:text-base",children:"kcal"})]})})]})}),e.jsx(w,{className:"bg-white rounded-xl shadow-sm border-0 overflow-hidden",children:e.jsxs("div",{className:"p-2 sm:p-5",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-1",children:e.jsx("span",{className:"text-green-600 font-semibold text-sm",children:"2"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Î≤à ÏßàÎ¨∏"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 pl-4",children:"ÌòÑÏû¨ Îã§Ïù¥Ïñ¥Ìä∏Î•º ÌïòÍ≥† Í≥ÑÏã†Í∞ÄÏöî?"}),e.jsx(y.Item,{name:"q2_on_diet",rules:[{required:!0,message:"ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî"}],children:e.jsx(h.Group,{className:"w-full",onChange:()=>_(2),children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"flex items-center p-3 sm:p-2 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[e.jsx(h,{value:"yes",className:"mr-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"Ïòà"})]}),e.jsxs("label",{className:"flex items-center p-3 sm:p-2 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[e.jsx(h,{value:"no",className:"mr-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"ÏïÑÎãàÏò§"})]})]})})})]})}),e.jsx(w,{className:"bg-white rounded-xl shadow-sm border-0 overflow-hidden",children:e.jsxs("div",{className:"p-2 sm:p-5",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-1",children:e.jsx("span",{className:"text-purple-600 font-semibold text-sm",children:"3"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Î≤à ÏßàÎ¨∏"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 pl-2",children:"ÌèâÏÜå Ï≤¥Ï§ëÏùÑ Ï°∞Ï†àÌïòÎ†§Îäî ÎèôÍ∏∞Í∞Ä ÏñºÎßàÎÇò ÎÜíÏúºÏã†Í∞ÄÏöî?"}),e.jsx(y.Item,{name:"q3_weight_control_motivation",rules:[{required:!0,message:"ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî"}],children:e.jsx($,{value:u.getFieldValue("q3_weight_control_motivation"),onChange:a=>{u.setFieldsValue({q3_weight_control_motivation:a}),_(3)},options:["Ï†ÑÌòÄ ÏóÜÏùå","Îß§Ïö∞ ÎÇÆÏùå","ÎÇÆÏùå","Î≥¥ÌÜµ","ÎÜíÏùå","Îß§Ïö∞ ÎÜíÏùå","Í∑πÎèÑÎ°ú ÎÜíÏùå"],name:"q3_weight_control_motivation"})})]})}),e.jsx(w,{className:"bg-white rounded-xl shadow-sm border-0 overflow-hidden",children:e.jsxs("div",{className:"p-2 sm:p-5",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-1",children:e.jsx("span",{className:"text-red-600 font-semibold text-sm",children:"4"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Î≤à ÏßàÎ¨∏"})]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-3 pl-4",children:["Îã§Ïù¥Ïñ¥Ìä∏Î•º ÌïòÎäî ÎèôÏïà 'Í∏àÏßÄÎêú' ÏùåÏãùÏùÑ ÏÑ≠Ï∑®Ìïú ÌõÑ,",e.jsx("br",{})," Î≥¥ÌÜµ Ïñ¥Îñ§ ÌñâÎèôÏùÑ ÌïòÏã≠ÎãàÍπå?"]}),e.jsx(y.Item,{name:"q4_forbidden_food_behavior",rules:[{required:!0,message:"ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî"}],children:e.jsx(h.Group,{className:"w-full",onChange:()=>_(4),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start p-3 sm:p-2 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[e.jsx(h,{value:1,className:"mt-1 mr-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"Îã§Ïãú ÏãùÎã®ÏúºÎ°ú ÎèåÏïÑÍ∞ÑÎã§"})]}),e.jsxs("label",{className:"flex items-start p-3 sm:p-2 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[e.jsx(h,{value:2,className:"mt-1 mr-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"Î≥¥ÏÉÅÌïòÍ∏∞ ÏúÑÌï¥ Ïò§Îûú ÏãúÍ∞Ñ ÎèôÏïà ÏãùÏÇ¨Î•º Ï§ëÎã®ÌïúÎã§"})]}),e.jsxs("label",{className:"flex items-start p-3 sm:p-2 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[e.jsx(h,{value:3,className:"mt-1 mr-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"Í≥ÑÏÜçÌï¥ÏÑú Í≥ºÏãùÌïúÎã§"})]}),e.jsxs("label",{className:"flex items-start p-3 sm:p-2 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[e.jsx(h,{value:4,className:"mt-1 mr-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"Îã§Î•∏ 'Í∏àÏßÄÎêú' ÏùåÏãùÎèÑ Î®πÎäîÎã§"})]})]})})})]})}),e.jsx(w,{className:"bg-white rounded-xl shadow-sm border-0 overflow-hidden",children:e.jsxs("div",{className:"p-2 sm:p-5",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-1",children:e.jsx("span",{className:"text-orange-600 font-semibold text-sm",children:"5"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Î≤à ÏßàÎ¨∏"})]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-6 pl-4",children:["Ï≤¥Ï§ëÏùÑ Ï°∞Ï†àÌï† Îïå, Î≥∏Ïù∏Ïù¥ Î®πÎäî ÏùåÏãùÏóê ÎåÄÌï¥",e.jsx("br",{})," ÏñºÎßàÎÇò ÏùòÏãùÌïòÍ≥† ÏûàÏäµÎãàÍπå?"]}),e.jsx(y.Item,{name:"q5_food_consciousness",rules:[{required:!0,message:"ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî"}],children:e.jsx($,{value:u.getFieldValue("q5_food_consciousness"),onChange:a=>{u.setFieldsValue({q5_food_consciousness:a}),_(5)},options:["Ï†ÑÌòÄ ÏùòÏãùÌïòÏßÄ ÏïäÏùå","Í±∞Ïùò ÏùòÏãùÌïòÏßÄ ÏïäÏùå","Ï°∞Í∏à ÏùòÏãùÌï®","Î≥¥ÌÜµ ÏùòÏãùÌï®","Ï†ÅÎãπÌûà ÏùòÏãùÌï®","ÎßéÏù¥ ÏùòÏãùÌï®","Îß§Ïö∞ ÏùòÏãùÌï®"],name:"q5_food_consciousness"})})]})}),T>0&&e.jsx(w,{className:"bg-white rounded-xl shadow-sm border-0 overflow-hidden",children:e.jsxs("div",{className:"p-2 sm:p-5",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mr-1",children:e.jsx("span",{className:"text-indigo-600 font-semibold text-sm",children:"6"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Î≤à ÏßàÎ¨∏"})]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-6 pl-4",children:["Ïò§Îäò Ï†êÏã¨Ïóê ÏòàÏÉÅÎ≥¥Îã§ ",e.jsx("span",{className:"font-bold text-md text-blue-600 bg-blue-50 px-2 py-1 rounded-md",children:T||0})," ÏπºÎ°úÎ¶¨Î•º",e.jsx("br",{})," Ï†ÅÍ≤å ÏÑ≠Ï∑®ÌïòÏòÄÏäµÎãàÎã§.",e.jsx("br",{}),"Ïù¥ ÏÇ¨Ïã§Ïù¥ ÏñºÎßàÎÇò ÎÜÄÎùºÏõ†ÎÇòÏöî?"]}),e.jsx(y.Item,{name:"q6_less_intake_reaction",rules:T>0?[{required:!0,message:"ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî"}]:[],children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("div",{className:"bg-gray-50 p-3 sm:p-2 rounded-lg",children:e.jsx($,{value:A,onChange:a=>{Q(a,"scale"),_(6)},options:["Ï†ÑÌòÄ ÎÜÄÎûçÏßÄ ÏïäÏùå","2","3","4","5","6","ÎßéÏù¥ ÎÜÄÎùºÏõÄ"],name:"q6_scale"},`likert-${A||"none"}`)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"ÎòêÎäî Í∞ÑÎã®Ìûà ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"}),e.jsx(h.Group,{value:o,onChange:a=>{Q(a.target.value,"simple"),_(6)},className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"flex items-center p-3 sm:p-2 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[e.jsx(h,{value:"yes",className:"mr-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"Ïòà"})]}),e.jsxs("label",{className:"flex items-center p-3 sm:p-2 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-300 transition-colors",children:[e.jsx(h,{value:"no",className:"mr-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"ÏïÑÎãàÏò§"})]})]})},`radio-${o||"none"}`)]})]})})]})}),T>0&&x&&e.jsx(w,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl shadow-sm border border-yellow-200 overflow-hidden",children:e.jsxs("div",{className:"p-2 sm:p-5",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-yellow-600 font-semibold text-sm",children:"üí≠"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Ï∂îÍ∞Ä ÏßàÎ¨∏"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3",children:"ÏπºÎ°úÎ¶¨Î•º ÏòàÏÉÅÎ≥¥Îã§ Ï†ÅÍ≤å ÏÑ≠Ï∑®Ìïú Í≤ÉÏù¥ Ïôú Ìö°Ïû¨Ï≤òÎüº ÎäêÍª¥ÏßÄÏßÄ ÏïäÏïòÎäîÏßÄ ÏÑ§Î™ÖÌï¥Ï£ºÏãúÎ©¥ Í∞êÏÇ¨ÌïòÍ≤†ÏäµÎãàÎã§"}),e.jsx(y.Item,{name:"q6_follow_up",rules:[{required:!0,message:"ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî"}],children:e.jsx(re,{placeholder:"ÏûêÏú†Î°≠Í≤å ÏÑ§Î™ÖÌï¥ Ï£ºÏÑ∏Ïöî...",rows:4,maxLength:500,showCount:!0,className:"text-sm sm:text-base p-3 sm:p-2 rounded-lg border-2 border-gray-200 focus:border-yellow-400 transition-colors resize-none"})})]})})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-gray-200 p-2 z-40",children:e.jsx("div",{className:"max-w-2xl mx-auto space-y-3",children:e.jsx(be,{type:"primary",loading:D,block:!0,size:"large",className:"h-12 sm:h-14 text-base sm:text-lg font-semibold bg-gradient-to-r from-blue-500 to-indigo-600 border-0 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>u.submit(),children:D?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-white mr-2"}),"Ï†úÏ∂ú Ï§ë..."]}):e.jsx("div",{className:"flex items-center justify-center",children:"ÏÑ§Î¨∏ Ï†úÏ∂úÌïòÍ∏∞"})})})})]})};export{qe as default};
